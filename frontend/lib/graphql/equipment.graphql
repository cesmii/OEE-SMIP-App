fragment BaseEquipmentType on EquipmentType {
    id, displayName
}

fragment EquipmentTypeWithEquipmentIds on EquipmentType {
    ...BaseEquipmentType
    equipments {
        id
        partOfId
    }
}



query GetOEEEquipmentTypes {
    equipmentTypes(filter: {
        fqn: {
            contains: ["oee_interface"]
        }
    }) {
        ...BaseEquipmentType
    }
}

query GetOEEEquipmentTypesWithEquipmentIds {
    equipmentTypes(filter: {
        fqn: {
            contains: ["oee_interface"]
        }
    }) {
        ...EquipmentTypeWithEquipmentIds
    }
}



fragment EquipmentOverview on Equipment {
  id
  displayName
  description

  attributes {
    id
    displayName
    fqn
    updatedTimestamp
    attributeType { dataType }

    # Values
    # Requesting all, but will only use the one specified by `typeName`
    intValue
    boolValue
    floatValue
    stringValue
    objectValue
    datetimeValue
    enumerationValue
    enumerationValues
    minValue
    maxValue
    geopointValue
    intervalValue { years months days hours minutes seconds }
  }

  type {
    id
    displayName
    fqn
  }
}
fragment EquipmentWithOEE on Equipment {
    ...EquipmentOverview
    childEquipment(filter: { typeName: { includesInsensitive: "oee" } }) {
        ...EquipmentOverview
    }
}
query GetEquipments($filter: EquipmentFilter) {
    equipments(filter: $filter) {
        ...EquipmentWithOEE
    }
}
